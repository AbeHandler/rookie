out1 = old algorithm
out2 = new algorithm, hiliting only a single facet without aliases
out3 = new algorithm, hiliting any of the facet aliases

=== timing analysis ===
totaling snippet gen time for q=levee commandline runner
this is 45 docs total: 9 facets, 5 docs each.

new algorithm is 3 times as fast.

~/Desktop/rookie/rookie % grep 'snippet time' out1 | awk '{s+= $3} END{print s}'
0.298702

~/Desktop/rookie/rookie % grep 'snippet time' out2 | awk '{s+= $3} END{print s}'
0.0894802


out2 is with out alias hiliting (just singleton facet label).
out3 here is with alias hiliting.
slightly slower.  new out2 to be properly comparable.

~/Desktop/rookie/rookie % grep 'snippet time' out2 | awk '{s+= $3} END{print s}'
0.0847785
~/Desktop/rookie/rookie % grep 'snippet time' out3 | awk '{s+= $3} END{print s}'
0.0936325



=== qualitative semantic changes ===

diffs on "levee" look much better than the old algo.
for example, no buggy about-the-lens sentences any more.

going from single facet label, to hiliting on aliases, only changes a small
number of outputs.  only 4 docs change, out of 45 total.

one type of improvement: instead of two sentences one for Q and one for F,
now only one sentence with both.  acutally that sentence was selected before,
but now the system knows it has both Q and F in it so it's happy.

 == doc2672     2014-09-25      Live blog Friday: Survival of coastal loss lawsuit could be determined by committeeâ€™s board pick
    DOC&FA:  [u'Paul Kemp']
-  s3   q=0 f=1 Last week the committee voted 5-4 to renominate coastal geologist ^[[1m^[[31m|F> Paul Kemp <F|^[[0m to the board of the Southeast Louisiana Flood Protection Authority-East .
-  s5   q=1 f=0 The committees decision to choose Kemp would have meant that a majority of the ^[[1m^[[34m|Q> levee <Q|^[[0m board still supports the suit .
+  s5   q=1 f=1 The committees decision to choose ^[[1m^[[31m|F> Kemp <F|^[[0m would have meant that a majority of the ^[[1m^[[34m|Q> levee <Q|^[[0m board still supports the suit .


here is one clear improvement: instead of two sentences,
gets just one with both Q and an F alias in it.

 == doc430      2015-05-20      Sections of new, best-ever levee system are sinking and are likely to be raised
    DOC&FA:  [u'Corps of Engineers']
-  s1   q=1 f=0 -LSB- Screen Shot 2015-05-20 at 6.14.18 PM -RSB- -LRB- http://lensnola.wpengine.netdna-cdn.com/wp-content/uploads/2015/05/Screen-Shot-2015-05-20-at-6.14.18-PM-771x373.png -RRB- The new $ 14.5 billion |Q> levee <Q| system encircling New Orleans includes some of the latest engineering advances and has been deemed the citys best ever .
+  s10  q=1 f=1 The |F> Army Corps of Engineers <F| is preparing to spend about $ 34 million to armor the protected side of the |Q> levee <Q|s with synthetic matting and new turf , a job that will reduce the risk of |Q> levee <Q| collapse from overtopping during storms larger than the 100-year level .


another such example

 == doc3212     2013-11-15      No surprise: Local levee board knew months ago that state would cut funding
    DOC&FA:  [u'Lake Borgne']
-  s9   q=1 f=0 The agencys decision to direct money to other ^[[1m^[[34m|Q> levee <Q|^[[0m authorities and projects instead has been discussed since last year , he said .
+  s38  q=1 f=1 The Southeast Louisiana Flood Protection Authority-East is funded by property taxes from the three local ^[[1m^[[31m|F> ^[[1m^[[34m|Q> levee <Q|^[[0m district <F|^[[0ms it oversees : Orleans , East Jefferson and ^[[1m^[[31m|F> Lake Borgne <F|^[[0m Basin , which consists primarily of St. Bernard Parish .


here is a debatable change.  previously it only had a Q sentence and no F
sentence at all (only one sentence in summary).  with the aliasing now it can
find the F sentence (which at doc filtering time was detected since the alias
set was used for doc filtering).  so now the snippet is longer, two sentences.
if you believe our principle of wanting at least one F instance, this is a
good thing.

 == doc2891     2013-08-23      State officials, flood authority continue their very public spat over oil, gas lawsuit
    DOC&FA:  [u'Gladstone Jones']
   s5   q=1 f=0 The state Attorney Generals Office issued a press release entitled AGs Office Rebukes John Barry in ^[[1m^[[34m|Q> Levee <Q|^[[0m Board Lawsuit .
+  s6   q=0 f=1 The rebuke was for statements by Barry that the AGs office had told the flood authoritys attorney , ^[[1m^[[31m|F> Gladstone Jones <F|^[[0m , that the oil and gas law suit did not negatively impact the states efforts to collect damages from B.P. in the Deepwater Horizon oil spill litigation .

